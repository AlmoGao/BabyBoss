import{v as e,M as a,N as t,e as s,f as l,A as i}from"./index-30tzVDQE.js";import{f as n,P as r,S as o,g as c,i as u,t as _,b as p}from"./timeData-D1QiY_GD.js";import{_ as d}from"./index-B7umTcYS.js";import{d as m,b as g,s as v,H as y,G as b,e as h,g as k,a as f,i as j,F as R,S as w,B as z,m as T,o as E,j as M,n as O,t as V}from"./vue-DH2RNpQ3.js";import"./index-BvmDLUYP-ZbkWU4Li.js";const x={class:"page_record page_wash_record"},L={class:"search_box"},q={class:"search_item"},N={class:"search_item"},D={class:"table"},H={class:"th"},P={key:0,class:"line"},S=k("div",{class:"line"},null,-1),U=["innerHTML"],B=m({__name:"washRecord",setup(m){const{t:B}=e.useI18n(),C=g((()=>[{title:B("washRecord_page_plat"),key:"type",size:"m"},{title:B("rechargeRecord_page_currency"),key:"currency",size:"m"},{title:B("washRecord_page_amount"),key:"rebate",size:"m"},{title:B("washRecord_page_money"),key:"bet_money",size:"m"},{title:B("washRecord_page_time"),key:"create_time",size:"m"}])),A=g((()=>{const e=Object.keys(n).map((e=>({label:n[e],value:Number(e)})));return X.value.forEach((a=>{9999!=a&&e.push({label:r[a],value:Number(a)})})),e.unshift({value:0,label:B("accountsRecord_page_allType")}),e})),F=v({page:1,type:0}),G=v({total_page:0,list:[]}),I=y(!1),Y=(e,a)=>{let t="",s=e[a];switch(a){case"type":t=9999==s?B("washRecord_page_currPlat"):r[s];break;case"currency":t=B("accountsRecord_page_dong");break;case"bet_money":case"rebate":t=Number(s).toLocaleString();break;case"create_time":t=i(s);break;default:t=s}return t},J=e=>{F.time=e,Object.assign(F,c(e)),Q()},K=e=>{F.type=e,Q()},Q=()=>{G.total_page=0,G.list=[],F.page=1,setTimeout((()=>{W()}),0)},W=()=>{0==F.type&&Z(),setTimeout((()=>{const e=s.req_get_vip_rebate();Object.assign(e.start_time,F.start_time),Object.assign(e.end_time,F.end_time),e.page=F.page,e.type=F.type,I.value=!0,l.instance.sendRequest(e)}),100)},X=y([]),Z=()=>{const e=s.req_get_vip_rebate();Object.assign(e.start_time,F.start_time),Object.assign(e.end_time,F.end_time),e.page=F.page,e.type=-2,I.value=!0,l.instance.sendRequest(e)};a.addMsgEvent(t.msgType.msg_notify_get_vip_rebate,(e=>{setTimeout((()=>{I.value=!1}),300),G.total_page=e.total_page||0,e.record_list.forEach((e=>{e.bet_money&&G.list.push(e)})),e.record_list.forEach((e=>{X.value.includes(e.type)||X.value.push(e.type)}))})),b((()=>{a.removeMsgEvent(t.msgType.msg_notify_get_vip_rebate,null)})),J(1);const $=()=>{if(G.total_page<=G.list.length)return I.value=!1;F.page++,W()},ee=()=>{Q()};return(e,a)=>{const t=d,s=p,l=u;return E(),h("div",x,[k("div",L,[k("div",q,[(E(),f(o,{key:1,onChange:K,active:F.type,options:A.value},null,8,["active","options"]))]),k("div",N,[(E(),f(o,{key:2,onChange:J,active:F.time,options:j(_)},null,8,["active","options"]))])]),k("div",D,[k("div",H,[(E(!0),h(R,null,w(C.value,((e,a)=>(E(),h(R,{key:a},[0!=a?(E(),h("div",P)):M("",!0),k("div",{class:O(["td","td-"+e.size])},V(e.title),3)],64)))),128))]),z(l,{class:"main_content",modelValue:I.value,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),onLoadMore:$},{default:T((()=>[z(s,{modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value=e),onRefresh:ee},{default:T((()=>[(E(!0),h(R,null,w(G.list,((e,a)=>(E(),h("div",{class:"tr",key:a},[(E(!0),h(R,null,w(C.value,(a=>(E(),h(R,{key:a.key},[S,k("div",{class:O(["td","td-"+a.size]),innerHTML:Y(e,a.key)},null,10,U)],64)))),128))])))),128)),I.value||G.list.length?M("",!0):(E(),f(t,{key:0,description:j(B)("nomore_data")},null,8,["description"]))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])])}}});export{B as default};