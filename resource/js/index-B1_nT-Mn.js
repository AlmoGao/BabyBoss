import{_ as e}from"./ScrollView-DaG0IhIx.js";import{v as a,e as s,f as t,M as l,N as i,L as o,b as n}from"./index-30tzVDQE.js";import{N as _,a as p}from"./index-D4QRuGPn.js";import{d,a0 as m,H as r,b as u,I as v,G as c,e as g,g as y,B as f,m as b,o as k,F as h,S as j,i as V,t as q,j as x,p as I,v as S,l as T}from"./vue-DH2RNpQ3.js";import{T as D}from"./Toast-C5ou-tHG.js";import"./index-BvmDLUYP-ZbkWU4Li.js";const M={class:"discount_container"},C={class:"main"},E={class:"left"},P={class:"left_btn"},Z=["onClick"],w=["onClick"],R=n(d({__name:"index",setup(n){const{t:d}=a.useI18n(),R=m(),U=r(1),B=r([]),L=r(!1),N=r(""),z=[{label:"promo_page_all",id:1},{label:"promo_page_guDing",id:"constant"},{label:"promo_page_depositZen",id:"deposit"},{label:"promo_page_system",id:"System"},{label:"promo_page_vipZen",id:"VIP_related"}],F={constant:"promo_page_guDing",deposit:"promo_page_depositZen",System:"promo_page_system",VIP_related:"promo_page_vipZen"},G=u((()=>{const e=B.value.filter((e=>e.tag==U.value));return 1==U.value?B.value:e})),H=e=>{B.value=e.promo},J=e=>{if(e.email_id){L.value=!0,N.value=d("promo_page_applySuc");const e=s.req_activites();e.show=1,t.instance.sendRequest(e)}};return v((()=>{const e=s.req_activites();e.show=1,t.instance.sendRequest(e),l.addMsgEvent(i.msgType.msg_notify_activites,H),l.addMsgEvent(i.msgType.msg_notify_get_email_attachments,J)})),c((()=>{l.removeMsgEvent(i.msgType.msg_notify_activites,null),l.removeMsgEvent(i.msgType.msg_notify_get_email_attachments,null)})),(a,l)=>{const i=p,n=_,m=e;return k(),g("div",M,[y("div",C,[f(n,{modelValue:U.value,"onUpdate:modelValue":l[0]||(l[0]=e=>U.value=e),"title-scroll":"","title-gutter":"10"},{default:b((()=>[(k(),g(h,null,j(z,((e,a)=>f(i,{title:V(d)(e.label),"pane-key":e.id,key:a},null,8,["title","pane-key"]))),64))])),_:1},8,["modelValue"]),f(m,{class:"main_content"},{default:b((()=>[G.value.length>0?(k(),g("div",{key:G.value.length},[(k(!0),g(h,null,j(G.value,(e=>(k(),g("div",{class:"list_item",key:e.tag},[y("div",E,[y("div",P,q(V(d)(F[e.tag])),1),y("span",null,q(e.name),1)]),["System","VIP_related"].includes(e.tag)?(k(),g("div",{key:0,class:"apply",onClick:a=>(e=>{const a=s.req_get_email_attachments();a.email_id=e.details,t.instance.sendRequest(a)})(e)},q(V(d)("promo_page_receive")),9,Z)):(k(),g("div",{key:1,class:"apply",onClick:a=>{return s=e,o.set("curDiscountData",s),void R.push("/deposit");var s}},q(V(d)("offer_apply")),9,w))])))),128))])):x("",!0),I(y("div",{class:"no_data"},q(V(d)("nomore_data")),513),[[S,0==G.value.length]])])),_:1})]),y("div",null,[f(D,{visible:L.value,"onUpdate:visible":l[1]||(l[1]=e=>L.value=e)},{default:b((()=>[T(q(N.value),1)])),_:1},8,["visible"])])])}}}),[["__scopeId","data-v-9dd0a751"]]);export{R as default};