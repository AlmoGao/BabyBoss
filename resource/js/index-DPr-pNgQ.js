import{l as e,a as t,aa as o,_ as l,c as s,a0 as a,Z as n,ab as r}from"./index-30tzVDQE.js";import{o as i,e as c,n as p,f as u,g as d,H as v,b as m,I as w,G as f,z as y,F as h,S as g,t as C,r as b,a as k,s as x,p as _,v as P,B as O,m as S,A as T,j as V}from"./vue-DH2RNpQ3.js";const j=t("Check"),B=[d("path",{d:"M998.4 245.029c-219.429 153.6-398.629 332.8-552.229 552.228-40.228 58.514-128 54.857-164.571-3.657-69.486-106.057-149.943-186.514-256-256-51.2-32.914-18.286-113.371 40.229-98.743C182.857 460.8 274.286 508.343 358.4 585.143c157.257-190.172 358.4-340.114 588.8-435.2 62.171-25.6 106.057 58.514 51.2 95.086",fill:"currentColor","fill-opacity":"0.9"},null,-1)];const $=e(j,[["render",function(e,t,o,l,s,a){return i(),c("svg",{class:p(e.classes),style:u(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},B,6)}]]),E=t("rect-down"),L=[d("path",{d:"M515.072 778.24c-14.336 0-28.672-5.632-39.936-16.384L69.12 356.864c-22.016-22.016-22.016-57.856 0-79.872s57.856-22.016 79.872 0L515.584 642.56 880.64 275.968c22.016-22.016 57.856-22.016 79.872 0s22.016 57.856 0 79.872L555.008 762.368c-10.752 10.752-25.6 15.872-39.936 15.872z",fill:"currentColor","fill-opacity":"0.9"},null,-1)];const N=e(E,[["render",function(e,t,o,l,s,a){return i(),c("svg",{class:p(e.classes),style:u(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},L,6)}]]),R=t("rect-up"),F=[d("path",{d:"M920.576 778.24c-14.336 0-28.672-5.632-39.936-16.384L515.072 395.264 148.48 760.832c-22.016 22.016-57.856 22.016-79.872 0s-22.016-57.856 0-79.872l406.528-405.504c22.016-22.016 57.856-22.016 79.872 0l405.504 406.528c22.016 22.016 22.016 57.856 0 79.872-11.264 11.264-25.6 16.384-39.936 16.384z",fill:"currentColor","fill-opacity":"0.9"},null,-1)];const W=e(R,[["render",function(e,t,o,l,s,a){return i(),c("svg",{class:p(e.classes),style:u(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},F,6)}]]),I=Symbol("nut-menu"),{componentName:M,create:z}=s("menu"),D=z({components:{RectUp:W,RectDown:N},props:{activeColor:{type:String,default:""},overlay:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},duration:{type:[Number,String],default:.3},closeOnClickOverlay:{type:Boolean,default:!0},direction:{type:String,default:"down"},scrollFixed:{type:[Boolean,String,Number],default:!1},titleClass:{type:String,default:""}},setup(e){const t=v(),l=v(0),s=v(!1),{children:n,linkChildren:r}=o(I),i=m((()=>n.some((e=>e.state.showWrapper)))),c=m((()=>{const e=M;return{[e]:!0,"scroll-fixed":s.value}}));r({props:e,offset:l});const p=()=>{const{scrollFixed:t}=e,o=(l=window,Math.max(0,"scrollTop"in l?l.scrollTop:l.pageYOffset));var l;s.value=o>("boolean"==typeof t?30:Number(t))};return w((()=>{const{scrollFixed:t}=e;t&&window.addEventListener("scroll",p)})),f((()=>{const{scrollFixed:t}=e;t&&window.removeEventListener("scroll",p)})),{toggleItem:o=>{n.forEach(((s,n)=>{n===o?((()=>{if(t.value){const o=a(t);"down"===e.direction?l.value=o.bottom:l.value=window.innerHeight-o.top}})(),s.toggle()):s.state.showPopup&&s.toggle(!1,{immediate:!0})}))},children:n,opened:i,classes:c,barRef:t,getClasses:t=>{let o="";const{titleClass:l}=e;return t&&(o+="active"),l&&(o+=` ${l}`),o}}}}),U=["onClick"],A={class:"nut-menu__title-text"},H={class:"nut-menu__title-icon"};const G=l(D,[["render",function(e,t,o,l,s,a){const n=y("RectUp"),r=y("RectDown");return i(),c("view",{class:p(e.classes)},[d("view",{ref:"barRef",class:p(["nut-menu__bar",{opened:e.opened}])},[(i(!0),c(h,null,g(e.children,((t,o)=>(i(),c("view",{key:o,class:p(["nut-menu__item",{disabled:t.disabled,active:t.state.showPopup}]),style:u({color:t.state.showPopup?e.activeColor:""}),onClick:l=>!t.disabled&&e.toggleItem(o)},[d("view",{class:p(["nut-menu__title",e.getClasses(t.state.showPopup)])},[d("view",A,C(t.renderTitle()),1),d("span",H,[b(e.$slots,"icon",{},(()=>["up"===e.direction?(i(),k(n,{key:0})):(i(),k(r,{key:1}))]))])],2)],14,U)))),128))],2),b(e.$slots,"default")],2)}]]);var Y=Object.defineProperty,Z=Object.defineProperties,q=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,X=(e,t,o)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,ee=(e,t)=>{for(var o in t||(t={}))K.call(t,o)&&X(e,o,t[o]);if(J)for(var o of J(t))Q.call(t,o)&&X(e,o,t[o]);return e},te=(e,t)=>Z(e,q(t));const{create:oe}=s("menu-item"),le=oe({props:{title:String,options:{type:Array,default:[]},disabled:{type:Boolean,default:!1},modelValue:null,cols:{type:Number,default:1},activeTitleClass:String,inactiveTitleClass:String},components:{NutPopup:n,Check:$},emits:["update:modelValue","change","open","close"],setup(e,{emit:t}){const o=x({showPopup:!1,showWrapper:!1}),{parent:l}=r(I);return{style:m((()=>"down"===l.props.direction?{top:l.offset.value+"px"}:{bottom:l.offset.value+"px"})),placeholderElementStyle:m((()=>{const e={height:l.offset.value+"px"};return"down"===l.props.direction?te(ee({},e),{top:"0px"}):te(ee({},e),{bottom:"0px"})})),renderTitle:()=>{var t;if(e.title)return e.title;const o=null==(t=e.options)?void 0:t.find((t=>t.value===e.modelValue));return o?o.text:""},state:o,parent:l,toggle:(e=!o.showPopup)=>{e!==o.showPopup&&(o.showPopup=e,e&&(o.showWrapper=!0,t("open")))},onClick:l=>{o.showPopup=!1,l.value!==e.modelValue&&(t("update:modelValue",l.value),t("change",l.value))},handleClose:()=>{t("close"),o.showWrapper=!1},handleClickOutside:()=>{o.showPopup=!1,t("close")}}}}),se={class:"nut-menu-item__content nut-menu-item__overflow"},ae=["onClick"];const ne=l(le,[["render",function(e,t,o,l,s,a){const n=y("Check"),r=y("nut-popup");return _((i(),c("view",{class:"nut-menu-item",style:u(e.style)},[_(d("div",{class:"nut-menu-item-placeholder-element",style:u(e.placeholderElementStyle),onClick:t[0]||(t[0]=(...t)=>e.handleClickOutside&&e.handleClickOutside(...t))},null,4),[[P,e.state.showPopup]]),O(r,T(e.$attrs,{visible:e.state.showPopup,"onUpdate:visible":t[1]||(t[1]=t=>e.state.showPopup=t),style:{position:"absolute"},"overlay-style":{position:"absolute"},position:"down"===e.parent.props.direction?"top":"bottom",duration:e.parent.props.duration,"destroy-on-close":!1,overlay:e.parent.props.overlay,"lock-scroll":e.parent.props.lockScroll,"teleport-disable":!1,"close-on-click-overlay":e.parent.props.closeOnClickOverlay,onClosed:e.handleClose}),{default:S((()=>[d("view",se,[(i(!0),c(h,null,g(e.options,((t,o)=>(i(),c("view",{key:o,class:p(["nut-menu-item__option",[{active:t.value===e.modelValue}]]),style:u({"flex-basis":100/e.cols+"%"}),onClick:o=>e.onClick(t)},[t.value===e.modelValue?(i(),c("span",{key:0,class:p(["nut-menu-item__span",[t.value===e.modelValue?e.activeTitleClass:e.inactiveTitleClass]])},[b(e.$slots,"icon",{},(()=>[O(n,T({ref_for:!0},e.$attrs,{color:e.parent.props.activeColor}),null,16,["color"])]))],2)):V("",!0),d("view",{class:p([t.value===e.modelValue?e.activeTitleClass:e.inactiveTitleClass]),style:u({color:t.value===e.modelValue?e.parent.props.activeColor:""})},C(t.text),7)],14,ae)))),128)),b(e.$slots,"default")])])),_:3},16,["visible","position","duration","overlay","lock-scroll","close-on-click-overlay","onClosed"])],4)),[[P,e.state.showWrapper]])}]]);export{G as a,ne as i};