import{_ as e}from"./Btn-BQ5zHeyl.js";import{v as a,U as s,d as l,M as i,N as t,q as n,e as d,f as m,n as c,b as v}from"./index-30tzVDQE.js";import{_}from"./index-76O1AXfI.js";import{d as u,W as o,H as r,I as p,G as f,e as g,g as b,n as y,t as h,i as k,F as x,S as w,B as C,m as $,Y as j,o as E,p as T,a as q,l as M,j as I,_ as R,$ as U}from"./vue-DH2RNpQ3.js";import{T as z}from"./Toast-C5ou-tHG.js";const B=e=>(R("data-v-2b9844ab"),e=e(),U(),e),L={class:"email_container"},N={class:"main"},S={class:"tab"},A={class:"attention mt-10"},F={key:0},G=["onClick"],H={class:"left"},O=B((()=>b("iconpark-icon",{class:"close mr-9","icon-id":"youxiconyxbt02",size:"2rem"},null,-1))),W={key:1,class:"no_data"},Y=B((()=>b("div",null,null,-1))),D={class:"popup_body"},J={class:"title"},K={class:"content"},P={class:"mt-12"},Q={class:"title"},V={class:"content h_150"},X={key:0,class:"mt-12"},Z={class:"title mb-8"},ee={class:"content email_file"},ae={class:"flex_align_center"},se=B((()=>b("img",{src:"/imgs/email/dollar.webp",alt:""},null,-1))),le={key:1,class:"mr-5"},ie={class:"submit_btn"},te=v(u({__name:"index",setup(v){const{t:u}=a.useI18n(),R=s(l),{myEmail:U}=o(R),B=r(!1),te=r(1),ne=r(),de=r(),me=r(!1),ce=r(""),ve=()=>{const e=d.req_get_email_attachments();e.email_id=ne.value.email_id,m.instance.sendRequest(e)},_e=e=>e>9?e:"0"+e,ue=e=>!U.value.email_readed.includes(e.email_id),oe=e=>{let a;a=e.email_id.indexOf("-")>-1?e.email_id.slice(1):e.email_id,U.value.email_readed.includes(a)||U.value.email_readed.push(a);const s=new Set(U.value.email_readed);U.value.hasNoRead=U.value.email_id_list.some((e=>!s.has(e)))},re=e=>{de.value=e.email_id,e.email_id&&(ce.value="bank_success",me.value=!0)};return p((()=>{i.addMsgEvent(t.msgType.msg_notify_read_email,oe),i.addMsgEvent(t.msgType.msg_notify_get_email_attachments,re)})),f((()=>{i.removeMsgEvent(t.msgType.msg_notify_read_email,null),i.removeMsgEvent(t.msgType.msg_notify_get_email_attachments,null)})),(a,s)=>{const l=c,i=_,t=e,v=j("shrink-on-click");return E(),g("div",L,[b("div",N,[b("div",S,[b("div",{class:y({tab_ac:1==te.value}),onClick:s[0]||(s[0]=e=>te.value=1)},h(k(u)("message_center")),3),b("div",{class:y({tab_ac:2==te.value}),onClick:s[1]||(s[1]=e=>te.value=2)},h(k(u)("reward_email")),3)]),b("div",A,h(k(u)("7_days")),1),k(U)[1==te.value?"list":"rewardList"].length>0?(E(),g("div",F,[(E(!0),g(x,null,w(k(U)[1==te.value?"list":"rewardList"],(e=>{return T((E(),g("div",{class:"list_item",key:e.email_id,onClick:a=>(e=>{if(B.value=!0,ne.value=e,!U.value.email_readed.includes(e.email_id)){const a=d.req_read_email();a.email_id=e.email_id,m.instance.sendRequest(a)}})(e)},[b("div",H,[O,C(l,{dot:ue(e),color:"#E11313",right:"-5"},{default:$((()=>[b("span",null,h(e.title),1)])),_:2},1032,["dot"])]),b("div",null,h((a=e.recv_time,`${a.year}-${_e(a.month)}-${_e(a.day)} ${_e(a.hour)}:${_e(a.minute)}:${_e(a.second)}`)),1)],8,G)),[[v]]);var a})),128))])):(E(),g("div",W,h(k(u)("nomore_data")),1))]),Y,C(n,{visible:B.value,"onUpdate:visible":s[3]||(s[3]=e=>B.value=e),title:k(u)("email_title")},{default:$((()=>[b("div",D,[b("div",null,[b("span",J,h(k(u)("email_title")),1),b("div",K,h(ne.value?.title),1)]),b("div",P,[b("span",Q,h(k(u)("email_content")),1),b("div",V,h(ne.value?.content),1)]),2==te.value?(E(),g("div",X,[b("span",Z,h(k(u)("attachment")),1),b("div",ee,[b("div",ae,[se,b("span",null,[C(i,{price:ne.value?.attachments[0].award_value,size:"small",style:{color:"#fff"},"decimal-digits":0,thousands:"","need-symbol":!1},null,8,["price"])])]),de.value?(E(),g("span",le,h(k(u)("received")),1)):(E(),q(t,{key:0,height:"32px",width:"99px",class:"submit mr-2",onClick:ve},{default:$((()=>[M(h(k(u)("vip_collect")),1)])),_:1}))])])):I("",!0),b("div",ie,[C(t,{height:"44px",width:"200px",class:"submit",onClick:s[2]||(s[2]=e=>B.value=!1)},{default:$((()=>[M(h(k(u)("confirm")),1)])),_:1})])])])),_:1},8,["visible","title"]),C(z,{visible:me.value,"onUpdate:visible":s[4]||(s[4]=e=>me.value=e)},{default:$((()=>[M(h(k(u)(ce.value)),1)])),_:1},8,["visible"])])}}}),[["__scopeId","data-v-2b9844ab"]]);export{te as default};