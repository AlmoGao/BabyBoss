import{_ as e,c as t,Y as i,t as a,b as l}from"./index-30tzVDQE.js";import{_ as n}from"./avatar-DQ0LtLsX.js";import{H as s,s as c,b as r,I as o,x as d,J as u,y as m,o as p,e as h,g as v,F as _,S as y,t as g,n as f,r as x,f as k,p as I,v as b,j as H,q as S,d as w,a0 as K,B as L,m as C,_ as j,$ as T}from"./vue-DH2RNpQ3.js";var Y=Object.defineProperty,O=Object.defineProperties,G=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,P=(e,t,i)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;const{create:$}=t("elevator"),D=$({props:{height:{type:[Number,String],default:"200px"},acceptKey:{type:[String],default:"title"},indexList:{type:Array,default:()=>[]},isSticky:{type:[Boolean],default:!1},spaceHeight:{type:[Number],default:23},titleHeight:{type:[Number],default:35}},emits:["clickItem","clickIndex","change"],setup(e,{emit:t,expose:i}){const a=s(null),l=c({anchorIndex:0,codeIndex:0,listHeight:[],listGroup:[],touchState:{y1:0,y2:0},scrollStart:!1,currentIndex:0,currentData:{},currentKey:"",scrollY:0,diff:-1,fixedTop:0}),n=r((()=>a.value.clientHeight)),p=()=>{let e=0;l.listHeight.push(e);for(let t=0;t<l.listGroup.length;t++){let i=l.listGroup[t];e+=Math.floor(i.clientHeight),l.listHeight.push(e)}},h=e=>{(e||0===e)&&(e<0&&(e=0),e>l.listHeight.length-2&&(e=l.listHeight.length-2),l.codeIndex=e,a.value.scrollTo(0,l.listHeight[e]))},v=e=>{let t=e.target.scrollTop;const i=l.listHeight;l.scrollY=t;for(let a=0;a<i.length-1;a++){let e=i[a],t=i[a+1];if(l.scrollY>=e&&l.scrollY<t)return l.currentIndex=a,void(l.diff=t-l.scrollY)}l.currentIndex=i.length-2};return o((()=>{a.value&&a.value.addEventListener("scroll",v)})),i({scrollTo:h}),d((()=>l.listGroup.length),(()=>{l.listHeight=[],u(p)})),d((()=>l.diff),(t=>{const i=l.listHeight;let a=t>0&&t<e.titleHeight?t-e.titleHeight:0;l.scrollY+n.value===i[i.length-1]&&0!==a&&(a=0),l.fixedTop!==a&&(l.fixedTop=a)})),d((()=>l.currentIndex),(e=>{t("change",e)})),_=((e,t)=>{for(var i in t||(t={}))N.call(t,i)&&P(e,i,t[i]);if(M)for(var i of M(t))E.call(t,i)&&P(e,i,t[i]);return e})({},m(l)),O(_,G({clientHeight:n,setListGroup:e=>{u((()=>{l.listGroup.includes(e)||null==e||l.listGroup.push(e)}))},listview:a,touchStart:e=>{l.scrollStart=!0;let t=(i=e.target,a="index",i.getAttribute("data-"+a));var i,a;let n=e.touches[0];l.touchState.y1=n.pageY,l.anchorIndex=+t,l.codeIndex=+t,h(+t)},touchMove:t=>{let i=t.touches[0];l.touchState.y2=i.pageY;let a=(l.touchState.y2-l.touchState.y1)/e.spaceHeight|0;l.codeIndex=l.anchorIndex+a,h(l.codeIndex)},touchEnd:()=>{l.scrollStart=!1},handleClickItem:(e,i)=>{t("clickItem",e,i),l.currentData=i,l.currentKey=e},handleClickIndex:e=>{t("clickIndex",e)}}));var _}}),q={class:"nut-elevator"},z={class:"nut-elevator__list__item__code"},A=["onClick"],B=["innerHTML"],V={class:"nut-elevator__list__fixed"},F={class:"nut-elevator__list__fixed-title"},J={class:"nut-elevator__bars__inner"},R=["data-index","onClick"];const U=e(D,[["render",function(e,t,i,a,l,n){var s,c;return p(),h("view",q,[v("view",{ref:"listview",class:"nut-elevator__list",style:k({height:isNaN(+e.height)?e.height:`${e.height}px`})},[(p(!0),h(_,null,y(e.indexList,(t=>(p(),h("view",{key:t[e.acceptKey],ref_for:!0,ref:e.setListGroup,class:"nut-elevator__list__item"},[v("view",z,g(t[e.acceptKey]),1),(p(!0),h(_,null,y(t.list,(i=>(p(),h("view",{key:i.id,class:f(["nut-elevator__list__item__name",{"nut-elevator__list__item__name--highcolor":e.currentData.id===i.id&&e.currentKey===t[e.acceptKey]}]),onClick:a=>e.handleClickItem(t[e.acceptKey],i)},[e.$slots.default?x(e.$slots,"default",{key:1,item:i}):(p(),h("span",{key:0,innerHTML:i.name},null,8,B))],10,A)))),128))])))),128))],4),I(v("view",V,[v("view",F,g(null==(c=null==(s=e.indexList)?void 0:s[e.currentIndex])?void 0:c[e.acceptKey]),1)],512),[[b,e.scrollY>0&&e.isSticky]]),e.indexList.length?I((p(),h("view",{key:0,class:"nut-elevator__code--current"},g(e.indexList[e.codeIndex][e.acceptKey]),513)),[[b,e.scrollStart]]):H("",!0),v("view",{class:"nut-elevator__bars",onTouchstart:t[0]||(t[0]=(...t)=>e.touchStart&&e.touchStart(...t)),onTouchmove:t[1]||(t[1]=S(((...t)=>e.touchMove&&e.touchMove(...t)),["stop","prevent"])),onTouchend:t[2]||(t[2]=(...t)=>e.touchEnd&&e.touchEnd(...t))},[v("view",J,[(p(!0),h(_,null,y(e.indexList,((t,i)=>(p(),h("view",{key:t[e.acceptKey],class:f(["nut-elevator__bars__inner__item",{active:t[e.acceptKey]===e.indexList[e.currentIndex][e.acceptKey]}]),"data-index":i,onClick:i=>e.handleClickIndex(t[e.acceptKey])},g(t[e.acceptKey]),11,R)))),128))])],32)])}]]),Q=e=>(j("data-v-4e8d8498"),e=e(),T(),e),W={class:"friends_list"},X={class:"head"},Z=Q((()=>v("span",null,"好友列表("+g(20)+")",-1))),ee={class:"section"},te={class:"query"},ie=Q((()=>v("iconpark-icon",{"icon-id":"majesticonssearch-line",size:"1.2rem",class:"refresh"},null,-1))),ae={class:"list"},le=["onClick"],ne=Q((()=>v("img",{class:"item_img",src:n,alt:""},null,-1))),se={class:"right_item"},ce={class:"item_name"},re=l(w({__name:"friendsList",setup(e){const t=K(),l=s(""),n=s([{title:"A",list:[{name:"111111",id:1,type:"上级代理",ident:1}]},{title:"B",list:[{name:"北京",id:2,type:"直属玩家",ident:2}]},{title:"C",list:[{name:"重庆",id:3,type:"直属代理",ident:3},{name:"重庆",id:3,type:"官方客服",ident:4},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3},{name:"重庆",id:3}]}]);return(e,s)=>{const c=i,r=a,o=U;return p(),h("div",W,[v("div",X,[L(c,{class:"navbar","z-index":"5",clickable:!1},{content:C((()=>[Z])),left:C((()=>[v("iconpark-icon",{onClick:s[0]||(s[0]=t=>e.$router.go(-1)),class:"close","icon-id":"tongyicontyfanh",size:"2.4rem"})])),right:C((()=>[])),_:1})]),v("div",ee,[v("div",te,[L(r,{modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=e=>l.value=e),placeholder:"点击查询好友"},{left:C((()=>[ie])),_:1},8,["modelValue"])]),v("div",ae,[L(o,{"index-list":n.value},{default:C((({item:e})=>[v("div",{class:"list_item",onClick:i=>(e=>{"kefu"===e||t.push({path:"chatRoom",query:{id:e.id,type:e.type,name:e.name}})})(e)},[ne,v("div",se,[v("div",ce,g(e.name),1),v("div",{class:f(["friend_type",["type"+e.ident]])},g(e.type),3)])],8,le)])),_:1},8,["index-list"])])])])}}}),[["__scopeId","data-v-4e8d8498"]]);export{re as default};